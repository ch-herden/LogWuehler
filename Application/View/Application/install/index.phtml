<h2>Installation</h2>

<form role="form" action="/install/index" method="post">

	<div class="well">
		<h3>Abh√§ngigkeiten</h3>

		Schreibrechte im Config Ordner
		<?php if ($this->_view['permission'] == true): ?>
			<span class="label label-success">TRUE</span>
		<?php else: ?>
			<span class="label label-danger">FALSE</span>
		<?php endif; ?>
	</div>

	<?php if($this->_view['success'] === true): ?>
	<div class="alert alert-success">
		LogWuehler wurde erfolgreich installiert.<br />
		<a href="/">Weiter</a>
	</div>
	<?php endif; ?>
	<?php if($this->_view['error'] === true): ?>
	<div class="alert alert-danger">
		 <strong>Fehler!</strong><br />
		 Das Verzeichnis existiert nicht, oder es bestehen keine Leserechte.
	</div>
	<?php endif; ?>
	
	<div class="well">
		<h3>Pfade</h3>

		<div class="form-group">
			<label for="exampleInputEmail1">Apache Error Log</label>
			<input type="text" name="apacheErrorLog" value="/var/log/apache2" class="form-control" />
		</div>
	</div>

	<input type="submit" class="btn btn-primary btn-lg" value="Installieren" <?= ($this->_view['permission'] != true) ? 'disabled="disabled"' : '' ?> />
</form>

<script type="text/javascript">

$(document).ready(function() {
	$('form').validate({
		rules: {
			apacheErrorLog: "required"
		},
		messages: {
			apacheErrorLog: ""
		},
		showErrors: function(errorMap, errorList) {
			$('.form-group').removeClass('has-error');
			for(i = 0; i < errorList.length; i++) {
				$(errorList[i].element).parent().addClass('has-error');
			}
		}
	});
});

</script>